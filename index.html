<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>A little surprise ðŸ’Œ</title>
<style>
  :root{ --bg1:#ffdde1; --bg2:#ee9ca7; --accent:#fff; }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    min-height:100vh; display:flex; align-items:center; justify-content:center;
    padding:24px; overflow:hidden; color:#fff;
  }

  .card{
    width:100%; max-width:720px; background:rgba(255,255,255,0.06);
    border-radius:18px; padding:36px; backdrop-filter: blur(6px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.18); text-align:center;
  }

  /* ---------- LOGIN (password gate) ---------- */
  .login{ display:none; }
  .login h1{ margin:0 0 10px; font-size:28px; letter-spacing:0.2px; }
  .login p{ margin:0 0 16px; opacity:.95 }
  .row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
  input[type="password"]{
    padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.25);
    background:rgba(255,255,255,.08); color:#fff; outline:none; font-size:16px;
    min-width:240px;
  }
  .btn{
    display:inline-block; padding:12px 22px; border-radius:12px; border:0;
    background:linear-gradient(90deg,#ff9a9e,#fad0c4); font-weight:600;
    cursor:pointer; font-size:16px; box-shadow:0 6px 18px rgba(0,0,0,0.2);
    transition:transform .16s ease;
  }
  .btn:active{ transform:translateY(2px) }
  .msg{ margin-top:10px; color:#ffe3e8; min-height:1.2em }

  /* ---------- CONTENT (the surprise) ---------- */
  .content{ display:none; }
  h1{margin:0 0 8px;font-size:28px;letter-spacing:0.2px;}
  p.lead{margin:0 0 18px;opacity:0.95}

  /* Countdown chip */
  .countdown{
    display:inline-block; padding:8px 14px; border-radius:999px;
    background:rgba(255,255,255,0.15); border:1px solid rgba(255,255,255,0.25);
    font-weight:600; margin:0 0 14px; letter-spacing:.3px;
  }

  .stage{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    pointer-events:none; visibility:hidden; opacity:0; transition:opacity .35s,visibility .35s;
  }
  .stage.show{visibility:visible; opacity:1; pointer-events:auto}

  .modal{
    width:90%; max-width:820px; background:linear-gradient(135deg,#ffffff22,#ffffff10);
    border-radius:20px; padding:28px; backdrop-filter:blur(8px); color:#fff; position:relative;
    overflow:hidden; border:1px solid rgba(255,255,255,0.08);
  }
  .close{
    position:absolute; right:12px; top:12px; background:transparent; border:0;
    color:#fff; font-size:20px; cursor:pointer;
  }
  .message{font-size:20px;margin:8px 0 6px}
  .sub{opacity:0.9;margin:0 0 12px}
  .flowers{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:12px;}
  .flower{width:64px;height:64px;filter:drop-shadow(0 6px 10px rgba(0,0,0,0.25));transform-origin:center;animation:float 4s ease-in-out infinite;}
  .flower:nth-child(2){animation-delay:.2s}
  .flower:nth-child(3){animation-delay:.4s}
  .flower:nth-child(4){animation-delay:.6s}
  @keyframes float{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(6deg)}100%{transform:translateY(0) rotate(0)}}

  /* Confetti + floating hearts */
  canvas.confetti{position:fixed;left:0;top:0;pointer-events:none;z-index:2000}
  .heart{
    position:absolute;left:50%;top:50%;width:16px;height:16px;
    transform:translate(-50%,-50%) scale(0);opacity:0;pointer-events:none;
    animation:pop 1.1s ease forwards;
  }
  @keyframes pop{
    0%{transform:translate(-50%,-50%) scale(.2);opacity:0}
    20%{transform:translate(-50%,-55%) scale(1.08);opacity:1}
    100%{transform:translate(calc(-50% - 120px), -220px) scale(.4);opacity:0}
  }

  /* Clickable heart grid */
  .heart-grid{
    display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin-top:14px;
  }
  .heart-btn{
    width:56px; height:56px; border-radius:14px; border:1px solid rgba(255,255,255,.22);
    background:linear-gradient(135deg,#ffffff22,#ffffff10); display:flex; align-items:center; justify-content:center;
    cursor:pointer; transition:transform .12s ease, box-shadow .12s ease;
    box-shadow:0 6px 14px rgba(0,0,0,.18);
  }
  .heart-btn:active{ transform:translateY(2px) }
  .heart-btn svg{ filter:drop-shadow(0 6px 10px rgba(0,0,0,0.25)); }
  .clicked-message{
    margin-top:10px; font-size:18px; min-height:1.4em; opacity:.95; text-align:center;
  }

  footer{margin-top:14px;font-size:13px;opacity:0.9}
  a.small{color:#fff;text-decoration:underline;opacity:.95}
</style>
</head>
<body>

  <!-- PASSWORD GATE -->
  <div class="card login" id="login">
    <h1>Enter our secret password ðŸ’•</h1>
    <p>Then your surprise will open.</p>
    <div class="row">
      <input type="password" id="pw" placeholder="Password" autocomplete="current-password" />
      <button class="btn" id="enterBtn">Enter</button>
    </div>
    <div class="msg" id="msg"></div>
    <footer>psstâ€¦ you can bookmark this page.</footer>
  </div>

  <!-- HIDDEN CONTENT (unlocked after correct password) -->
  <div class="content" id="content">
    <div class="card" role="main">
      <!-- COUNTDOWN lives here -->
      <div id="countdown" class="countdown">Loadingâ€¦</div>

      <h1>A tiny surprise for you âœ¨</h1>
      <p class="lead">Click the button â€” something pretty will appear.</p>
      <button class="btn" id="openBtn">Open your surprise</button>
      <footer></footer>
    </div>

    <div class="stage" id="stage">
      <canvas class="confetti" id="confetti"></canvas>
      <div class="modal" id="modal">
        <button class="close" id="closeBtn">âœ•</button>
        <div style="display:flex;align-items:center;gap:18px;flex-direction:column;">
          <div style="width:92px;height:92px;border-radius:50%;background:linear-gradient(135deg,#fff3,#ffffff22);display:flex;align-items:center;justify-content:center;">
            <svg viewBox="0 0 24 24" width="56" height="56" aria-hidden="true">
              <path fill="#ff6b8a" d="M12 21s-7-4.7-9.2-7.1C-0.4 10.5 3.9 5 8.8 7.5 10.5 8.5 12 10.1 12 10.1s1.5-1.6 3.2-2.6C20.1 5 24.4 10.5 21.2 13.9 19 16.3 12 21 12 21z"/>
            </svg>
          </div>

          <div class="message" id="typeMsg">To someone who always makes me smile...</div>

         
          <!-- CLICKABLE HEARTS -->
          <div class="heart-grid" id="heartGrid" aria-label="Click a heart for a message"></div>
          <div class="clicked-message" id="clickedMessage"></div>
        </div>
      </div>
    </div>
  </div>

<script>
  /* ================== PASSWORD GATE ================== */
  // CHANGE THIS to your shared secret.
  const CORRECT_PASSWORD = "iloveubah!";

  const login = document.getElementById("login");
  const content = document.getElementById("content");
  const msg = document.getElementById("msg");
  const pwInput = document.getElementById("pw");
  const enterBtn = document.getElementById("enterBtn");

  login.style.display = "block";

  function unlock(){
    const val = pwInput.value.trim();
    if(val === CORRECT_PASSWORD){
      login.style.display = "none";
      content.style.display = "block";
      document.getElementById('openBtn')?.focus();
    } else {
      msg.textContent = "Incorrect password ðŸ’”";
    }
  }
  enterBtn.addEventListener('click', unlock);
  pwInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') unlock(); });

  /* ================== COUNTDOWN TO NOV 26 ================== */
  // Auto-rolls to next year if Nov 26 has already passed.
  const countdownEl = document.getElementById('countdown');
  function nextNov26(){
    const now = new Date();
    const year = now.getMonth() > 10 || (now.getMonth() === 10 && now.getDate() > 26)
      ? now.getFullYear() + 1
      : now.getFullYear();
    return new Date(year, 10, 26, 0, 0, 0); // month is 0-indexed (10 = November)
  }
  let target = nextNov26();

  function pad(n){ return String(n).padStart(2,'0'); }
  function updateCountdown(){
    const now = new Date();
    if(now >= target){ target = nextNov26(); }
    const diff = target - now;
    const d = Math.floor(diff / (1000*60*60*24));
    const h = Math.floor((diff / (1000*60*60)) % 24);
    const m = Math.floor((diff / (1000*60)) % 60);
    const s = Math.floor((diff / 1000) % 60);
    countdownEl.textContent = `Countdown to Nov 26: ${d} days ${pad(h)}:${pad(m)}:${pad(s)}`;
  }
  updateCountdown();
  setInterval(updateCountdown, 1000);

  /* ================== SURPRISE CONTENT ================== */
  const openBtn = document.getElementById('openBtn');
  const stage = document.getElementById('stage');
  const modal = document.getElementById('modal');
  const closeBtn = document.getElementById('closeBtn');
  const confettiCanvas = document.getElementById('confetti');
  const ctx = confettiCanvas?.getContext?.('2d');
  let particles = [];

  function resizeCanvas(){
    if(!confettiCanvas) return;
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  function spawnConfetti(x,y,amount=40){
    if(!ctx) return;
    const colors = ['#FF6B8A','#FFD77A','#80DEEA','#CE93D8','#A5D6A7','#fff'];
    for(let i=0;i<amount;i++){
      particles.push({
        x: x + (Math.random()*120-60),
        y: y + (Math.random()*40-20),
        vx: (Math.random()-0.5)*6,
        vy: Math.random()*-6 - 2,
        w: 6 + Math.random()*8,
        h: 6 + Math.random()*8,
        angle: Math.random()*360,
        color: colors[Math.floor(Math.random()*colors.length)],
        life: 90 + Math.floor(Math.random()*60)
      });
    }
  }

  function tick(){
    if(!ctx) return;
    ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.life--;
      p.vy += 0.15;
      p.x += p.vx;
      p.y += p.vy;
      p.angle += p.vx*2;
      ctx.save();
      ctx.translate(p.x,p.y);
      ctx.rotate(p.angle * Math.PI/180);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
      ctx.restore();
      if(p.y > confettiCanvas.height + 50 || p.life <= 0) particles.splice(i,1);
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  // typewriter effect
  const messageEl = document.getElementById('typeMsg');
  const lines = [
    "To someone who always makes me smile...",
    "Someone who always makes me feel so loved.",
    "This little surprise is just for you ðŸ’–"
  ];
  function runType(){
    let i=0, char=0;
    if(!messageEl) return;
    messageEl.textContent = "";
    function step(){
      if(i >= lines.length) return;
      if(char < lines[i].length){
        messageEl.textContent += lines[i][char++];
        setTimeout(step, 30);
      } else {
        messageEl.textContent += (i < lines.length-1 ? " " : "");
        i++; char=0;
        setTimeout(step, 650);
      }
    }
    step();
  }

  if(openBtn){
    openBtn.addEventListener('click',()=>{
      stage.classList.add('show');
      const rect = openBtn.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top + rect.height/2;
      spawnConfetti(x,y,48);

      // ambient floating hearts
      for(let k=0;k<10;k++){
        const h = document.createElement('div');
        h.className='heart';
        h.style.left = (50 + (Math.random()*40-20)) + '%';
        h.style.top = (50 + (Math.random()*40-20)) + '%';
        h.innerHTML = '<svg viewBox="0 0 24 24" width="28" height="28" style="filter:drop-shadow(0 6px 10px rgba(0,0,0,0.18))"><path fill="#ff6b8a" d="M12 21s-7-4.7-9.2-7.1C-0.4 10.5 3.9 5 8.8 7.5 10.5 8.5 12 10.1 12 10.1s1.5-1.6 3.2-2.6C20.1 5 24.4 10.5 21.2 13.9 19 16.3 12 21 12 21z"/></svg>';
        modal.appendChild(h);
        setTimeout(()=>h.remove(),1400 + Math.random()*400);
      }

      runType();
      modal.focus?.();
      spawnConfetti(window.innerWidth/2, window.innerHeight/2, 120);
    });
  }

  if(closeBtn){
    closeBtn.addEventListener('click', ()=>{ stage.classList.remove('show'); });
  }
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') stage.classList.remove('show'); });

  setTimeout(()=>spawnConfetti(window.innerWidth/2, 120, 30), 600);

  /* ================== CLICKABLE HEARTS W/ CUSTOM SENTENCES ================== */
  // EDIT THESE LINES: put any sentences you want. One sentence per heart.
  const heartMessages = [
    "Your eyes are so beautiful! I hope our kids get them.",
    "I love when you laugh.",
    "Thank you for always believing in me.",
    "You make even the most shitty days worth it.",
    "I canâ€™t wait until I get to see you again!",
    "Iâ€™m proud of you. Always.",
    "I can't wait to cuddle with you again!",
    "Don't forget to tell shadow I love him so much!"
  ];

  const heartGrid = document.getElementById('heartGrid');
  const clickedMessage = document.getElementById('clickedMessage');

  function renderHearts(){
    heartGrid.innerHTML = "";
    heartMessages.forEach((text, idx)=>{
      const btn = document.createElement('button');
      btn.className = 'heart-btn';
      btn.setAttribute('aria-label', `Message ${idx+1}`);
      btn.innerHTML = `
        <svg viewBox="0 0 24 24" width="30" height="30" aria-hidden="true">
          <path fill="#ff6b8a" d="M12 21s-7-4.7-9.2-7.1C-0.4 10.5 3.9 5 8.8 7.5 10.5 8.5 12 10.1 12 10.1s1.5-1.6 3.2-2.6C20.1 5 24.4 10.5 21.2 13.9 19 16.3 12 21 12 21z"/>
        </svg>`;
      btn.addEventListener('click',(e)=>{
        clickedMessage.textContent = text;
        // small confetti burst at click
        const rect = modal.getBoundingClientRect();
        const x = (e.clientX ?? (rect.left + rect.width/2));
        const y = (e.clientY ?? (rect.top + rect.height/2));
        spawnConfetti(x,y,24);
      });
      heartGrid.appendChild(btn);
    });
  }
  renderHearts();
</script>
</body>
</html>
