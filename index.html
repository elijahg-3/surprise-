<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>A little surprise ðŸ’Œ</title>
<style>
  :root{
    --bg1:#ffdde1; --bg2:#ee9ca7; --accent:#fff;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    min-height:100vh; display:flex; align-items:center; justify-content:center;
    padding:24px; overflow:hidden; color:#fff;
  }

  /* Shared card style */
  .card{
    width:100%; max-width:720px; background:rgba(255,255,255,0.06);
    border-radius:18px; padding:36px; backdrop-filter: blur(6px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.18); text-align:center;
  }

  /* ---------- LOGIN (password gate) ---------- */
  .login{ display:none; }
  .login h1{ margin:0 0 10px; font-size:28px; letter-spacing:0.2px; }
  .login p{ margin:0 0 16px; opacity:.95 }
  .row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
  input[type="password"]{
    padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.25);
    background:rgba(255,255,255,.08); color:#fff; outline:none; font-size:16px;
    min-width:240px;
  }
  .btn{
    display:inline-block; padding:12px 22px; border-radius:12px; border:0;
    background:linear-gradient(90deg,#ff9a9e,#fad0c4); font-weight:600;
    cursor:pointer; font-size:16px; box-shadow:0 6px 18px rgba(0,0,0,0.2);
    transition:transform .16s ease;
  }
  .btn:active{ transform:translateY(2px) }
  .msg{ margin-top:10px; color:#ffe3e8; min-height:1.2em }

  /* ---------- CONTENT (the surprise) ---------- */
  .content{ display:none; }

  h1{margin:0 0 8px;font-size:28px;letter-spacing:0.2px;}
  p.lead{margin:0 0 18px;opacity:0.95}

  .stage{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    pointer-events:none; visibility:hidden; opacity:0; transition:opacity .35s,visibility .35s;
  }
  .stage.show{visibility:visible; opacity:1; pointer-events:auto}

  .modal{
    width:90%; max-width:820px; background:linear-gradient(135deg,#ffffff22,#ffffff10);
    border-radius:20px; padding:28px; backdrop-filter:blur(8px); color:#fff; position:relative;
    overflow:hidden; border:1px solid rgba(255,255,255,0.08);
  }
  .close{
    position:absolute; right:12px; top:12px; background:transparent; border:0;
    color:#fff; font-size:20px; cursor:pointer;
  }
  .message{font-size:20px;margin:8px 0 6px}
  .sub{opacity:0.9;margin:0 0 12px}
  .flowers{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:12px;}
  .flower{width:64px;height:64px;filter:drop-shadow(0 6px 10px rgba(0,0,0,0.25));transform-origin:center;animation:float 4s ease-in-out infinite;}
  .flower:nth-child(2){animation-delay:.2s}
  .flower:nth-child(3){animation-delay:.4s}
  .flower:nth-child(4){animation-delay:.6s}
  @keyframes float{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(6deg)}100%{transform:translateY(0) rotate(0)}}

  canvas.confetti{position:fixed;left:0;top:0;pointer-events:none;z-index:2000}

  .heart{
    position:absolute;left:50%;top:50%;width:16px;height:16px;
    transform:translate(-50%,-50%) scale(0);opacity:0;pointer-events:none;
    animation:pop 1.1s ease forwards;
  }
  @keyframes pop{
    0%{transform:translate(-50%,-50%) scale(.2);opacity:0}
    20%{transform:translate(-50%,-55%) scale(1.08);opacity:1}
    100%{transform:translate(calc(-50% - 120px), -220px) scale(.4);opacity:0}
  }
  footer{margin-top:14px;font-size:13px;opacity:0.9}
  a.small{color:#fff;text-decoration:underline;opacity:.95}
</style>
</head>
<body>

  <!-- PASSWORD GATE -->
  <div class="card login" id="login">
    <h1>Enter our secret password ðŸ’•</h1>
    <p>Then your surprise will open.</p>
    <div class="row">
      <input type="password" id="pw" placeholder="Password" autocomplete="current-password" />
      <button class="btn" id="enterBtn">Enter</button>
    </div>
    <div class="msg" id="msg"></div>
    <footer>psstâ€¦ you can bookmark this page.</footer>
  </div>

  <!-- HIDDEN CONTENT (unlocked after correct password) -->
  <div class="content" id="content">
    <div class="card" role="main">
      <h1>A tiny surprise for you âœ¨</h1>
      <p class="lead">Click the button â€” something pretty will appear.</p>
      <button class="btn" id="openBtn">Open your surprise</button>
      <footer>Save the file and open it anytime â€” no internet required.</footer>
    </div>

    <div class="stage" id="stage">
      <canvas class="confetti" id="confetti"></canvas>
      <div class="modal" id="modal">
        <button class="close" id="closeBtn">âœ•</button>
        <div style="display:flex;align-items:center;gap:18px;flex-direction:column;">
          <div style="width:92px;height:92px;border-radius:50%;background:linear-gradient(135deg,#fff3,#ffffff22);display:flex;align-items:center;justify-content:center;">
            <svg viewBox="0 0 24 24" width="56" height="56" aria-hidden="true">
              <path fill="#ff6b8a" d="M12 21s-7-4.7-9.2-7.1C-0.4 10.5 3.9 5 8.8 7.5 10.5 8.5 12 10.1 12 10.1s1.5-1.6 3.2-2.6C20.1 5 24.4 10.5 21.2 13.9 19 16.3 12 21 12 21z"/>
            </svg>
          </div>

          <div class="message" id="typeMsg">To someone who brightens my days...</div>
          <div class="sub" id="typeSub">(Click the hearts and enjoy!)</div>

          <div class="flowers" id="flowers">
            <svg class="flower" viewBox="0 0 100 100"><g transform="translate(50 50)"><circle r="20" fill="#FFD77A"/><g fill="#FF9AA2"><path d="M0 -30 A20 20 0 0 1 24 -18 A80 80 0 0 0 0 0 Z"/></g></g></svg>
            <svg class="flower" viewBox="0 0 100 100"><g transform="translate(50 50)"><circle r="18" fill="#B3E5FC"/><g fill="#80DEEA"><path d="M0 -28 A18 18 0 0 1 22 -16 A70 70 0 0 0 0 0 Z"/></g></g></svg>
            <svg class="flower" viewBox="0 0 100 100"><g transform="translate(50 50)"><circle r="16" fill="#E1BEE7"/><g fill="#CE93D8"><path d="M0 -26 A16 16 0 0 1 20 -14 A60 60 0 0 0 0 0 Z"/></g></g></svg>
            <svg class="flower" viewBox="0 0 100 100"><g transform="translate(50 50)"><circle r="14" fill="#C8E6C9"/><g fill="#A5D6A7"><path d="M0 -24 A14 14 0 0 1 18 -12 A50 50 0 0 0 0 0 Z"/></g></g></svg>
          </div>

        </div>
      </div>
    </div>
  </div>

<script>
  /* ================== PASSWORD GATE ================== */
  // CHANGE THIS to your shared secret. (Reminder: client-side gates are for casual privacy.)
  const CORRECT_PASSWORD = "iloveubah!";

  const login = document.getElementById("login");
  const content = document.getElementById("content");
  const msg = document.getElementById("msg");
  const pwInput = document.getElementById("pw");
  const enterBtn = document.getElementById("enterBtn");

  // show login on load
  login.style.display = "block";

  function unlock(){
    const val = pwInput.value.trim();
    if(val === CORRECT_PASSWORD){
      login.style.display = "none";
      content.style.display = "block";
      // focus the main button for a nice flow
      document.getElementById('openBtn')?.focus();
    } else {
      msg.textContent = "Incorrect password ðŸ’”";
    }
  }
  enterBtn.addEventListener('click', unlock);
  pwInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') unlock(); });

  /* ================== SURPRISE CONTENT ================== */
  const openBtn = document.getElementById('openBtn');
  const stage = document.getElementById('stage');
  const modal = document.getElementById('modal');
  const closeBtn = document.getElementById('closeBtn');
  const confettiCanvas = document.getElementById('confetti');
  const ctx = confettiCanvas?.getContext?.('2d');
  let particles = [];

  function resizeCanvas(){
    if(!confettiCanvas) return;
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  function spawnConfetti(x,y,amount=40){
    if(!ctx) return;
    const colors = ['#FF6B8A','#FFD77A','#80DEEA','#CE93D8','#A5D6A7','#fff'];
    for(let i=0;i<amount;i++){
      particles.push({
        x: x + (Math.random()*120-60),
        y: y + (Math.random()*40-20),
        vx: (Math.random()-0.5)*6,
        vy: Math.random()*-6 - 2,
        w: 6 + Math.random()*8,
        h: 6 + Math.random()*8,
        angle: Math.random()*360,
        color: colors[Math.floor(Math.random()*colors.length)],
        life: 90 + Math.floor(Math.random()*60)
      });
    }
  }

  function tick(){
    if(!ctx) return;
    ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.life--;
      p.vy += 0.15; // gravity
      p.x += p.vx;
      p.y += p.vy;
      p.angle += p.vx*2;
      ctx.save();
      ctx.translate(p.x,p.y);
      ctx.rotate(p.angle * Math.PI/180);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
      ctx.restore();
      if(p.y > confettiCanvas.height + 50 || p.life <= 0) particles.splice(i,1);
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  // typewriter effect
  const messageEl = document.getElementById('typeMsg');
  const lines = [
    "To someone who brightens my days...",
    "You make ordinary moments feel magical.",
    "This little surprise is just for you ðŸ’–"
  ];
  function runType(){
    let i=0, char=0;
    if(!messageEl) return;
    messageEl.textContent = "";
    function step(){
      if(i >= lines.length) return;
      if(char < lines[i].length){
        messageEl.textContent += lines[i][char++];
        setTimeout(step, 30);
      } else {
        messageEl.textContent += (i < lines.length-1 ? " " : "");
        i++; char=0;
        setTimeout(step, 650);
      }
    }
    step();
  }

  // guard: if content isn't shown yet, openBtn is null.
  if(openBtn){
    openBtn.addEventListener('click',()=>{
      stage.classList.add('show');
      const rect = openBtn.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top + rect.height/2;
      spawnConfetti(x,y,48);
      // pop hearts
      for(let k=0;k<10;k++){
        const h = document.createElement('div');
        h.className='heart';
        h.style.left = (50 + (Math.random()*40-20)) + '%';
        h.style.top = (50 + (Math.random()*40-20)) + '%';
        h.innerHTML = '<svg viewBox="0 0 24 24" width="28" height="28" style="filter:drop-shadow(0 6px 10px rgba(0,0,0,0.18))"><path fill="#ff6b8a" d="M12 21s-7-4.7-9.2-7.1C-0.4 10.5 3.9 5 8.8 7.5 10.5 8.5 12 10.1 12 10.1s1.5-1.6 3.2-2.6C20.1 5 24.4 10.5 21.2 13.9 19 16.3 12 21 12 21z"/></svg>';
        modal.appendChild(h);
        setTimeout(()=>h.remove(),1400 + Math.random()*400);
      }
      runType();
      modal.focus?.();
      spawnConfetti(window.innerWidth/2, window.innerHeight/2, 120);
    });
  }

  if(closeBtn){
    closeBtn.addEventListener('click', ()=>{
      stage.classList.remove('show');
    });
  }
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') stage.classList.remove('show'); });

  // small autoplay confetti loop for first 2s
  setTimeout(()=>spawnConfetti(window.innerWidth/2, 120, 30), 600);
</script>
</body>
</html>
